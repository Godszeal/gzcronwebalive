<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>gzcronwebalive ‚Äî Docs & Demo</title>

<!-- Tailwind CDN for styling -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<!-- Highlight.js CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

<style>
  body { background: #050812; color: #e6f7ff; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
  .card { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.04); border-radius: 12px; padding: 1rem; }
  pre { border-radius: 8px; padding: 1rem; overflow:auto; }
  .terminal { background: linear-gradient(180deg,#00111a,#000814); padding:12px; border-radius:10px; color:#7fffd4; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace; }
  .btn { background:#00b7ff; color:#001018; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; font-weight:700; }
  .badge { display:inline-block; padding:6px 10px; border-radius:8px; background:#073042; color:#bfffff; margin-right:6px; font-weight:700; }
  .copy { background:#06b6d4; color:#001018; cursor:pointer; padding:6px 10px; border-radius:6px; }
  .muted { color:#9fcfea; }
  .typewriter { display:inline-block; font-family: 'Fira Code', monospace; font-size:1.25rem; font-weight:700; }
</style>
</head>
<body class="p-6">

<div class="max-w-5xl mx-auto">
  <header class="mb-6">
    <div class="flex items-center justify-between">
      <div>
        <div class="flex items-center gap-3">
          <img src="https://img.shields.io/badge/gzcronwebalive-v1.0.0-00F7A6?style=for-the-badge" alt="pkg" style="height:36px">
          <div>
            <div class="typewriter" id="tw">gzcronwebalive ‚Äî Keep your app awake</div>
            <div class="muted text-sm">Author: <strong>God's Zeal</strong> ‚Ä¢ Repo: <a class="text-cyan-300" href="https://github.com/Godszeal/gzcronwebalive">github.com/Godszeal/gzcronwebalive</a></div>
          </div>
        </div>
      </div>
      <div class="flex gap-2 items-center">
        <img src="https://img.shields.io/npm/v/gzcronwebalive?color=brightgreen&logo=npm" alt="npm" class="h-8">
        <a class="btn" href="https://github.com/Godszeal/gzcronwebalive" target="_blank">View on GitHub</a>
      </div>
    </div>
  </header>

  <main class="space-y-6">
    <section class="card">
      <h2 class="text-xl font-semibold">Quick Start</h2>
      <p class="muted mt-2">Install the package from npm and call <code>startCron()</code> in your app's main file.</p>

      <div class="mt-4 grid md:grid-cols-2 gap-4">
        <div>
          <h3 class="font-medium">Install</h3>
          <pre><code class="language-bash">npm install gzcronwebalive</code></pre>
          <h3 class="font-medium mt-3">Usage</h3>
          <div class="flex gap-2 mt-2">
            <button class="copy" onclick="copyText('usageCode')">Copy</button>
          </div>
          <pre id="usageCode"><code class="language-js">const { startCron } = require('gzcronwebalive');
startCron();</code></pre>
        </div>

        <div>
          <h3 class="font-medium">package.json snippet</h3>
          <div class="flex gap-2 mt-2">
            <button class="copy" onclick="copyText('pkgJson')">Copy</button>
          </div>
          <pre id="pkgJson"><code class="language-json">"dependencies": {
  "gzcronwebalive": "1.0.0"
}</code></pre>

          <h3 class="font-medium mt-3">Environment</h3>
          <pre><code class="language-bash">PORT=3000
SELF_PING_URL=https://your-app-on-render.app</code></pre>
        </div>
      </div>
    </section>

    <section class="card">
      <h2 class="text-xl font-semibold">Module internals</h2>
      <p class="muted">This is the code shipped with <code>gzcronwebalive</code>. It's intentionally tiny and dependency-light.</p>
      <div class="flex gap-2 mt-2">
        <button class="btn" onclick="copyText('moduleCode')">Copy module</button>
      </div>
      <pre id="moduleCode"><code class="language-js">// gzcronwebalive - keep Node.js app awake by self-pinging
const cron = require('node-cron');
const axios = require('axios');
const ora = require('ora');
const c = require('chalk');

module.exports = { startCron: function(opts = {}) {
  const port = opts.port || process.env.PORT || 3000;
  const url = opts.url || process.env.SELF_PING_URL || `http://localhost:${port}`;
  const schedule = opts.schedule || '* * * * *';

  const task = cron.schedule(schedule, async () => {
    const spinner = ora({ text: c.cyan('üîÅ Pinging self to keep app awake...'), spinner: 'dots' }).start();
    try { await axios.get(url, { timeout: 10000 }); spinner.succeed(c.green('‚úÖ Self-ping successful at ' + new Date().toLocaleTimeString())); }
    catch (err) { spinner.fail(c.red('‚ö†Ô∏è Self-ping failed at ' + new Date().toLocaleTimeString() + ': ' + err.message)); }
  }, { scheduled: true });

  return { stop(){ task.stop(); }, start(){ task.start(); }, getTask(){ return task; } };
}};</code></pre>
    </section>

    <section class="card">
      <h2 class="text-xl font-semibold">Live Terminal Demo</h2>
      <p class="muted">This simulates the console output you will see when the cron runs.</p>
      <div class="terminal mt-4" id="terminal">
        <div id="termLines">üîÅ Pinging self to keep app awake...</div>
      </div>
      <div class="mt-3 flex gap-2 justify-end">
        <button class="btn" onclick="startDemo()">Start Demo</button>
        <button class="btn" onclick="stopDemo()">Stop Demo</button>
        <a class="btn" href="/download/gzcronwebalive_npm_ready.zip">Download bundle</a>
      </div>
    </section>

    <section class="card">
      <h2 class="text-xl font-semibold">Publishing to npm</h2>
      <ol class="mt-2 list-decimal ml-5">
        <li>Create an npm account at <a class="text-cyan-300" href="https://www.npmjs.com">npmjs.com</a></li>
        <li>Run <code>npm login</code> locally</li>
        <li>From your module folder run <code>npm publish --access public</code></li>
      </ol>
      <p class="muted mt-2">After publishing, users install with <code>npm i gzcronwebalive</code></p>
    </section>
  </main>

  <footer class="mt-6 muted">Made with ‚ù§Ô∏è by God's Zeal ‚Äî <a class="text-cyan-300" href="https://github.com/Godszeal">github.com/Godszeal</a></footer>
</div>

<script>hljs.highlightAll();</script>
<script>
// Copy helper
function copyText(id){ const t=document.getElementById(id); navigator.clipboard.writeText(t.innerText).then(()=>alert('Copied to clipboard'))}

// Terminal demo logic
let demoInterval=null;
const term=document.getElementById('termLines');
const msgs=[ 'üîÅ Pinging self to keep app awake...', '‚úÖ Self-ping successful at ' + new Date().toLocaleTimeString(), 'üîÅ Pinging self to keep app awake...', '‚ö†Ô∏è Self-ping failed at ' + new Date(new Date().getTime()+60000).toLocaleTimeString() + ': ECONNREFUSED' ];
let idx=0;
function startDemo(){ if(demoInterval) return; demoInterval=setInterval(()=>{ term.innerText=msgs[idx%msgs.length]; idx++; }, 1700); }
function stopDemo(){ if(!demoInterval) return; clearInterval(demoInterval); demoInterval=null; term.innerText='üîÅ Pinging self to keep app awake...'; }

// Typewriter (simple)
const tw=document.getElementById('tw'); let i=0; const txt='gzcronwebalive ‚Äî Keep your app awake'; (function type(){ if(i<=txt.length){ tw.textContent=txt.slice(0,i); i++; setTimeout(type,40);} })();
</script>
</body>
</html>
